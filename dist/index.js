import{createServer as y,T as o,conversation as h,createProgress as b,log as w}from"@mctx-ai/mcp-server";var i=y(),a=t=>{let{name:e}=t;return w.info(`Greeting ${e}`),`Hello, ${e}!`};a.description="Greets a person by name";a.input={name:o.string({required:!0,description:"Name to greet"})};i.tool("greet",a);var c=t=>{let{operation:e,a:r,b:n}=t,s={add:r+n,subtract:r-n,multiply:r*n,divide:r/n};if(e==="divide"&&n===0)throw new Error("Division by zero");return{operation:e,a:r,b:n,result:s[e]}};c.description="Performs arithmetic operations";c.input={operation:o.string({required:!0,enum:["add","subtract","multiply","divide"]}),a:o.number({required:!0,description:"First operand"}),b:o.number({required:!0,description:"Second operand"})};i.tool("calculate",c);var d=function*(t){let{topic:e}=t,r=b(3);return yield r(),yield r(),yield r(),`Analysis of "${e}" complete. Found 42 insights across 7 categories.`};d.description="Analyzes a topic with progress updates";d.input={topic:o.string({required:!0,description:"Topic to analyze"})};i.tool("analyze",d);var p=async(t,e)=>{let{question:r}=t;if(e){let n=await e("What additional context would help me answer this better?");return`Question: ${r}
Context: ${n}
Answer: With the additional context, here is a comprehensive answer.`}return`Answer to: ${r}`};p.description="Answers questions, optionally asking the LLM for clarification";p.input={question:o.string({required:!0,description:"Question to answer"})};i.tool("smart-answer",p);var u=()=>"Welcome to the example MCP server built with @mctx-ai/mcp-server. This server demonstrates tools, resources, prompts, progress tracking, and sampling.";u.description="Server documentation";u.mimeType="text/plain";i.resource("docs://readme",u);var l=t=>{let{userId:e}=t;return JSON.stringify({id:e,name:`User ${e}`,joined:"2024-01-01",plan:"pro"})};l.description="User profile by ID";l.mimeType="application/json";i.resource("user://{userId}",l);var g=t=>{let{code:e,language:r}=t;return`Please review this ${r||"code"} for bugs, security issues, and improvements:

\`\`\`${r||""}
${e}
\`\`\``};g.description="Code review prompt";g.input={code:o.string({required:!0,description:"Code to review"}),language:o.string({description:"Programming language"})};i.prompt("code-review",g);var m=t=>{let{error:e,context:r}=t;return h(({user:n,ai:s})=>[n.say(`I'm seeing this error: ${e}`),...r?[n.attach(r,"text/plain")]:[],s.say("I will analyze the error and provide step-by-step debugging guidance.")])};m.description="Debug assistance prompt with structured dialogue";m.input={error:o.string({required:!0,description:"Error message or description"}),context:o.string({description:"Additional context, stack trace, or logs"})};i.prompt("debug",m);var f={fetch:i.fetch};export{f as default};
